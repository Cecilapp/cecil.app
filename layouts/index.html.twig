<!DOCTYPE html>
<html lang="{{ site.language }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{{ site.description }}">
    <meta name="keywords" content="{{ site.author.name }}">
    <meta name="author" content="{{ site.description }}">
    <meta name="google-site-verification" content="{{ site.gsv }}" />
    <title>{% spaceless %}
{% if page.section == 'documentation' %}
{% set title = 'Docs &middot; ' ~ page.title %}
{% else %}
{% set title = page.title %}
{% endif %}
{% if title != 'Home' %}{{ title }} &middot; {% endif %}
{{ site.name }}
    {% endspaceless %}</title>
    <link rel="stylesheet" href="{{ url('css/primer.css') }}">
    <link rel="apple-touch-icon-precomposed" href="{{ url('apple-touch-icon-precomposed.png') }}">
    <link rel="icon" href="{{ url('favicon.ico') }}">
    <style>{% filter minifyCSS %}
      .masthead {
        background-color: #333;
      }
      .jumbotron {
        background-color: #333;
      }
      @media (max-width: 760px) {
        .jumbotron .column {
          float: none;
          width: 100%;
          margin-bottom: 30px;
        }
      }
      .about-that .column .mega-octicon {
        margin-right: .5rem;
      }
    {% endfilter %}</style>
    <link rel="stylesheet" href="{{ url('css/terminal.css') }}">
  </head>
  <body>
    <!-- header -->
    <header class="masthead">
      <div class="container">
        <a href="{{ site.baseurl }}" class="masthead-logo">{% spaceless %}
          <img src="{{ url('phpoole-logo-trans-white.png') }}" alt="Logo {{ site.name }}" height="40px" />
          {{ site.name }}
        {% endspaceless %}</a>
        <nav class="masthead-nav">
{% for menu in site.menus.main|sortByWeight %}
          <a class="{% if url(page) == url(menu.url) or url(page) == url(menu.url)|trim('/') or page.section == menu.id %} active{% endif %}" href="{{ url(menu.url) }}">{{ menu.name }}</a>
{% endfor %}
        </nav>
      </div>
    </header>
    <!-- content -->
{% block content %}
    <div class="jumbotron">
      <div class="container">
        <div class="columns">
          <div class="one-half column">
            <h1>{{ site.name }}</h1>
            <p>{{ site.baseline }}</p>
            <a href="{{ url(site.menu.main.documentation.url) }}" class="btn btn-reverse text-white bg-gray-dark">Docs</a>
            <a id="download-button" href="{{ url(site.menu.main.download.url) }}" class="btn btn-primary">Download</a>
          </div>
          <div class="one-half column">
            {% include 'includes/terminal.html.twig' %}
          </div>
        </div>
      </div>
    </div>
    <div class="container about-that">
      <div class="columns">
        <div class="one-third column">
          <h2><span class="mega-octicon octicon-markdown"></span>Files only</h2>
          <p>No database, content is stored is flat files (<a href="https://daringfireball.net/projects/markdown/">Markdown</a> + <a href="http://www.yaml.org/spec/1.2/spec.html">YAML</a>): no dependency, security and performance.</p>
        </div>
        <div class="one-third column">
          <h2><span class="mega-octicon octicon-paintcan"></span>Customisable</h2>
          <p>Powered by a flexible template engine (<a href="http://twig.sensiolabs.org/">Twig</a>) + themes support.</p>
        </div>
        <div class="one-third column">
          <h2><span class="mega-octicon octicon-hubot"></span>Generators</h2>
          <p>Home page, taxonomies, paginaton, etc. generated automatically.</p>
        </div>
      </div>
    </div>
{% endblock content %}
    <!-- footer -->
    <div class="container">
      <footer class="footer">
        PHPoole &copy; {{ 'now'|date('Y') }} <a href="{{ url(site.author.home) }}">{{ site.author.name }}</a>
        and PHPoole logo &copy; <a href="http://www.cecillie.fr/">CÃ©cile Ricordeau</a><br>
        <a href="{{ url('about') }}">About</a> &bull; Powered by <a href="{{ phpoole.url }}">PHPoole</a>, <a href="http://primercss.io/">Primer CSS</a>, <a href="https://octicons.github.com/">Octicons</a>
        and <a href="https://github.com/PHPoole/phpoole.github.io"><span class="octicon octicon-octoface"></span></a>
      </footer>
    </div>
    <!-- anchor -->
    <script src="{{ url('js/anchor.min.js') }}"></script>
    <script>{% filter minifyJS %}
      var selector = '.markdown-body > h2, .markdown-body > h3';
      anchors.options = {
        placement: 'left',
        class: 'anchor-link'
      };
      anchors.add(selector);
    {% endfilter %}</script>
    <!-- fetch version -->
    <script>{% filter minifyJS %}
      const buttonId = 'download-button';
      const button = document.getElementById(buttonId)
      if (null !== button) {
        fetch('/VERSION')
          .then(response => {
            if(!response.ok) {
              return '2.X.X'
            }
          })
          .then(text => {
            version = text
            text = document.getElementById(buttonId).innerHTML;
            document.getElementById(buttonId).innerHTML = text+' <span class="counter">'+version+'</span>'
          })
      }
    {% endfilter %}</script>
    <!-- highlight -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/github.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    {% include 'includes/googleanalytics.js.twig' %}
  </body>
</html>
