    <!-- anchor.js -->
    <script src="{{ url('js/anchor.min.js') }}"></script>
    <script>{% filter minifyJS %}
      var selector = '.markdown-body > h2, .markdown-body > h3';
      anchors.options = {
        placement: 'left',
        class: 'anchor-link'
      };
      anchors.add(selector);
      generateTableOfContents(anchors.elements);
      function generateTableOfContents(els) {
        if (document.getElementById('table-of-contents') == null) {
          return;
        }
        var anchoredElText,
          anchoredElHref,
          ul = document.createElement('UL');
        document.getElementById('table-of-contents').appendChild(ul);
        for (var i = 0; i < els.length; i++) {
          if (els[i].tagName == 'H2') {
            anchoredElText = els[i].textContent;
            anchoredElHref = els[i].querySelector('.anchorjs-link').getAttribute('href');
            addNavItem(ul, anchoredElHref, anchoredElText);
          }
        }
      }
      function addNavItem(ul, href, text) {
        var listItem = document.createElement('LI'),
          anchorItem = document.createElement('A'),
          textNode = document.createTextNode(text);
        anchorItem.href = href;
        ul.appendChild(listItem);
        listItem.appendChild(anchorItem);
        anchorItem.appendChild(textNode);
      }
    {% endfilter %}</script>
